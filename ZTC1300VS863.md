

保持跟踪

```pascal
F_anti_swing_main_function(g_lb:=g_lb,
						  g_l:=g_l+g_rope,
						  g_mq:=g_mq,
						  g_gama:=g_gama,
						  can_panel_high_speed_in:=can_panel_high_speed_in,
						  can_panel_slow_speed_in:=can_panel_slow_speed_in,
						  Cabin_left_joystick_X_in:=Cabin_left_joystick_X_in,
						  motor_speed_in:=motor_speed_in,
						  AS_Slew_MaxCurrent_Left_in:=AS_Slew_MaxCurrent_Left_in,
						  AS_Slew_MaxCurrent_Right_in:=AS_Slew_MaxCurrent_Right_in,
						  CAN_slew_speed_signed_in:=CAN_slew_speed_signed_in,
						  CAN_slew_angle_in:=CAN_slew_angle_in,
						  anti_swing_control_enable_in:=TRUE,  // 保持跟踪，即使未开启
						  cycletime:=cycletime,
						  limiter_radius:=limiter_radius,
						  run_stop_flag:=run_stop_flag);
IF NOT anti_swing_control_enable_out THEN
```

保持跟踪的关键

```pascal
(*单次防摇摆结束后，关闭期望速度计算，微调时不关闭*)
IF (run_stop_flag OR NOT enable) AND X < 5 THEN
```

